# <a name="Testmaking"></a> Составление тестов
Тест - набор стандартизованных вопросов, предназначенных для проверки знаний, умений и навыков испытуемого. Помимо вопросов, тест включает в себя описание процедуры проведения и оценки результатов.

## <a name="TestAttributes"></a> Атрибуты теста
### <a name="TestMainAttributes"></a> Основные
Основными атрибутами теста являются: 
- название;
- тема;
- версия;
- статус;
- автор.

### <a name="TestFlowSettingsList"></a> Настройка процедуры тестирования
Для каждого теста можно настроить процедуру сдачи. Для этого тест имеет следующие атрибуты:
- Порядок прохождения вопросов;
- Повторная отправка ответов;
- Лимит времени;
- Максимальное количество попыток.

### <a name="TestCheckingSettingsList"></a> Оценка результата
Для настройки оценки результатов теста используются следующие атрибуты:
- Способ проверки работ;
- Политика оценки ответов;
- Распределение баллов за вопросы;
- Проходной балл.

## <a name="WhoCanCreate"></a> Создание тестов
Создать тест может только преподаватель. Преподаватель, создавший тест, считается его **автором**.

## <a name="WhoIsContributor"></a> Составитель теста
Наряду с автором теста в его подготовке могут участвовать другие преподаватели. Назначать или снимать составителей может только автор. Правки, вносимые составителями и автором, **равнозначны**.

## <a name="SwitchingOwnership"></a> Передача теста другому автору
Автор теста или администратор может передать тест другому преподавателю. 

### <a name="SwitchingOwnershipPriority"></a> Приоритет при передаче теста
При передаче теста следует отдавать приоритет преподавателям, входящим в список составителей теста.

### <a name="SwitchingOwnershipRestrictions"></a> Ограничения при передаче теста
Нельзя передавать тест заблокированному пользователю.

## <a name="TestMustBeUnique"></a> Уникальность теста
Сочетание **названия**, **темы** и **версии** теста не должны повторяться среди актуальных тестов одного автора.

## <a name="TestStatus"></a> Статус теста
Существуют следующие статусы (состояния) в которых может находиться тест:
- Черновик;
- Отправлена заявка на публикацию;
- Опубликован;
- В архиве.

### <a name="TestInitialStatus"></a> Начальный статус теста
Только что созданный тест имеет статус **"Черновик"**.

### <a name="TestStatusTransitions"></a> Переходы между статусами
![Диаграмма переходов](/docs/Images/states_of_test.svg)

## <a name="TestPublishing"></a> Публикация теста
Чтобы проводить экзамены с использованием нового теста, его нужно сначала опубликовать. Опубликованные тесты не подлежат редактированию.

### <a name="TestPublishingProposal"></a> Заявка на публикацию теста
Чтобы опубликовать тест, нужно отправить заявку, которую рассматривает администратор. Отправлять заявку может только автор.

### <a name="PublishingProposalAssignment"></a> Рассмотрение заявки на публикацию
- Одну заявку может рассматривать только один администратор;
- Администратор может одновременно рассматривать любое количество заявок;
- Лимита времени на обработку заявок администратором нет.

### <a name="PublishingProposalDecline"></a> Отказ по заявке на публикацию
Чтобы оформить отказ в публикации теста, администратор обязан указать причину отказа. Если заявка была отклонена, то тест, для которого она была отправлена, переводится в статус "Черновик".

### <a name="TestPublishingRestrictions"></a> Ограничения на публикацию теста
Тест не может быть опубликован, если:
- В составе теста не определён ни один вопрос;
- Проходной балл теста не задан;
- Проходной балл теста таков, что его нельзя набрать, даже ответив верно на все вопросы;

## <a name="TestArchiving"></a> Списание тестов в архив
Удалить тест нельзя, но можно списать его в архив. Для архивных тестов нельзя назначать экзамены, они не подлежат редактированию.
Списание теста в архив происходит при создании его новой редакции.

## <a name="TestVersioning"></a> Версионирование тестов
Чтобы обойти ограничение для редактирования уже опубликованных тестов, можно создать новую редакцию теста.

### <a name="TestInitialVersion"></a> Начальная версия теста
Только что созданный тест имеет версию 1.

### <a name="NewEditionOfTest"></a> Создание и публикация новой версии
- Новая редакция теста представляет собой полную копию исходного теста, но в статусе "Черновик";
- При создании новой редакции теста номер его версии увеличивается на 1;
- При публикации новой редакции опубликованного теста старая редакция не может использоваться, поэтому она списывается в архив.

### <a name="NewEditionRestrictions"></a> Ограничения для создания новых версий тестов
- Новую редакцию теста нельзя создать, если ещё не прошли все запланированные экзамены, использующие старую версию;
- Новую редакцию теста нельзя создать, если проверены не все сданные работы учащихся по старой версии;

## <a name="TestFlowSettings"></a> Настройка процедуры тестирования
Автор и составители могут изменять процедуру проведения тестирования.

### <a name="TestFlowQuestionOrder"></a> Порядок ответов на вопросы в тесте
На вопросы теста можно отвечать либо строго последовательно, либо в произвольном порядке.

### <a name="TestFlowRevokeAnswers"></a> Повторные ответы
Автор и составители могут определить, допускается ли отзыв отправленного ответа и его повторная отправка, а также сколько попыток ответа на вопрос допускается.

#### <a name="TestFlowRevokeAnswersRestrictions"></a> Повторные ответы - ограничения
- если число попыток ограничено, то минимальное количество попыток ответа на 1 вопрос - 1, максимальное - 100;
- допускается неограниченное количество попыток;
- настройка повторных ответов предполагает, что если количество попыток больше 1, то отзыв ответа должен быть разрешён;
- обратное неверно - если отзыв ответа разрешён, то это не значит, что обязательно должна быть разрешена повторная отправка.

### <a name="TestFlowTimeLimit"></a> Лимит времени на тест - установка и ограничения
Для теста можно определить лимит времени, в течение которого тест должен быть сдан. Лимит времени задаётся в часах и минутах, минимальный лимит - 10 минут, максимальный - 23 часа 59 минут.

### <a name="TestFlowAttempts"></a> Повторная сдача теста
Для теста можно определить, допускается ли его повторная сдача. Минимальное количество попыток - 1, максимальное - 100; допускается также неограниченное количество попыток.

## <a name="TestCheckingSettings"></a> Настройка процедуры проверки

### <a name="TestCheckingPolicy"></a> Политика оценивания ответов
Для теста можно определить, как при проверке работы будут засчитываться верные и неверные ответы. Для этого служит политика оценивания ответов.

#### <a name="TestCheckingPolicyTypes"></a> Виды политик оценивания
Существуют три вида политики оценки ответов:
- Стандартная - за верные ответы начисляются баллы, за неверные не начисляется ничего.
- Мягкая - за верные ответы начисляются баллы, за неверные не начисляется ничего, есть возможность засчитать ответ частично;
- Жёсткая - за верные ответы баллы начисляются, за неверные - снимаются.

### <a name="TestCheckingPassingScore"></a> Проходной балл
Для каждого теста должен быть определён проходной балл в виде минимальной суммы баллов, которую должен набрать учащийся. У только что созданного теста проходной балл не задан. Минимальный проходной балл равен 1.

### <a name="TestCheckingScoreDistribution"></a> Распределение баллов за вопросы
Автор и составители могут установить способ распределения баллов за вопросы: вручную или автоматически.

#### <a name="AutomaticScoreDistribution"></a> Автоматическое распределение
При автоматическом распределении необходимо указать балл, присваиваемый каждому вопросу.

#### <a name="ManualScoreDistribution"></a> Распределение вручную
При распределении баллов вручную автор и составители указывают балл для каждого вопроса индивидуально.

### <a name="TestCheckingMethod"></a> Настройка способа проверки работ
Автор и составители могут задать способ проверки работ, сданных учащимися. Сданные работы могут проверяться 3 способами:
- Автоматическая проверка;
- Проверка вручную;
- Смешанная проверка.

#### <a name="AutomatedCheckingRestrictions"></a> Ограничения автоматической проверки
Тесты с автоматической проверкой проверяются без участия человека, поэтому в такие тесты нельзя добавлять вопросы с развёрнутым ответом.

#### <a name="MixedCheckingMethod"></a> Смешанная проверка
В тестах со смешанной проверкой вопросы с выбором вариантов и вопросы с точным ответом проверяются автоматически, а вопросы с развёрнутым ответом - вручную.

## <a name="WorkWithQuestions"></a> Работа со списком вопросов
### <a name="QuestionTypesList"></a> Виды вопросов
Существует 4 вида вопросов:
- Вопрос с выбором одного варианта;
- Вопрос с выбором нескольких вариантов;
- Вопрос с точным ответом;
- Вопрос с развёрнутым ответом.

### <a name="QuestionAttributes"></a> Атрибуты вопросов
#### <a name="AttributesOfAllQuestions"></a> Атрибуты, общие для всех видов вопросов
Все вопросы имеют формулировку (собственно, текст вопроса) и балл, начисляемый за правильнй ответ.

#### <a name="SpecialQuestionsAttributes"></a> Специальные атрибуты
- Вопросы с выбором вариантов ответа имеют упорядоченный список вариантов ответа;
- Вопросы с точным ответом имеют значение точного ответа, с которым будет сверяться ответ учащегося;
- Вопросы с развёрнутым ответом специальных атрибутов не имеют.

#### <a name="QuestionAttributesRestrictions"></a> Ограничения атрибутов
- Максимальная длина формулировки вопроса - 5000 знаков;
- Балл за правильный ответ вводится как целое положительное число от 1 до 100;
- Максимальное количество вариантов ответа на вопрос - 20;
- Среди вариантов ответа хотя бы 1 обязательно должен быть помечен как верный.

### <a name="AddingQuestionsToTest"></a> Добавление вопроса в тест
Автор и составители могут добавлять в тест вопросы.

### <a name="RemovingQuestionFromTest"></a> Удаление вопроса
Автор и составители могут удалять вопросы из теста.

### <a name="QuestionNumbers"></a> Нумерация вопросов
Первый вопрос, добавленный в тест, получает номер 1. Каждый последующий вопрос имеет номер на 1 больше. Вопросы нумеруются только автоматически.

### <a name="QuestionRenumeration"></a> Перестановка вопросов
Автор и составители могут менять вопросы местами. При перестановке вопросов их порядковые номера пересчитываются.

### <a name="QuestionNumbersConsistensy"></a> Пересчёт нумерации вопросов
При любом изменении списка вопросов, приводящем к нарушению порядковой нумерации (удаление, перестановка), вопросы сортируются по возрастанию порядкового номера и нумеруются заново, начиная с 1.

### <a name="EditingQuestions"></a> Редактирование вопросов
Авторы и составители могут редактировать вопросы, изменяя следующие их атрибуты:
- Формулировку;
- Варианты ответа, их содержание, порядок, правильность (только для вопросов с выбором вариантов);
- Точный ответ (только для вопросов с точным ответом);
- Балл за правильный ответ (если он не назначается автоматически).

# <a name="StudyGroups"></a> Учебные группы
В целях упорядочения учебного процесса учащиеся объединяются в группы для прохождения тестирования.

## <a name="WhoCanWorkWithGroups"></a> Обработка данных о группах
Изменять состав учебных групп, создавать, редактировать и расформировывать их может только администратор.

## <a name="WhoIsCurator"></a> Куратор группы
_**Куратор**_ - преподаватель, назначенный ответственным за успеваемость группы.

## <a name="GroupTermOfExistence"></a> Срок существования группы
Группа существует в течение определённого периода, пока длится её обучение. По завершении этого периода группа считается **неактивной**. В качестве начала и окончания периода активности указывается _дата_. Группа не может быть создана задним числом.

## <a name="DisbandingGroups"></a> Расформирование группы
Группа может быть _**расформирована**_, несмотря на то, что период активности ещё не закончился.

## <a name="GroupUniqueness"></a> Уникальность учебных групп
В одном временном периоде может существовать только одна группа с определённым названием. Перекрывающиеся периоды также не допускаются.

## <a name="NumberOfStudentsInGroup"></a> Численность группы
Максимальная численность группы - 100 человек.

## <a name="GroupMembership"></a> Членство в группе
- Членом группы может быть только учащийся;
- Один учащийся может быть членом неограниченного количества групп;
- Учащиеся могут быть включены в группу и исключены из неё в любое время;
- Нельзя добавлять учащихся в расформированную или прекратившую обучение группу.

## <a name="NotificationsForStudents"></a> Уведомление учащихся
Учащиеся должны быть уведомлены о любых изменения, связаных с их членством в учебных группах: зачисление, исключение, расформирование.

# <a name="HandlingOfExaminations"></a> Проведение экзаменов
Автор или любой составитель теста может назначить экзамен.
**Экзамен** - проведение опроса учащихся одной и более групп по определённому тесту в заданный период времени.

## <a name="ExaminationHandlingRestrictions"></a> Ограничения на проведение экзаменов
### <a name="TestForExamination"></a> Используемый тест
Тест, используемый для проведения экзамена, должен быть опубликован.

### <a name="GroupsForExamination"></a> Учебные группы, сдающие экзамен
- В экзамене может участвовать неограниченное количество групп;
- Расформированные и неактивные группы отправлять на экзамен нельзя;

### <a name="TermsOfExamination"></a> Сроки проведения экзамена
- В качестве начала и окончания экзамена указываются _**дата и время**_;
- Экзамен назначается на будущие даты;
- Сроки проведения экзаменов не могут быть короче, чем лимит времени на тест, если он есть;

### <a name="AccessToExamination"></a> Доступ к экзамену для учащихся
- Доступ к сдаче тестирования открыт для учащихся в течение всего периода проведения экзамена;
- Если учащийся был заблокирован или исключён из всех групп, сдающих определённый экзамен, то доступ к сдаче тестирования закрывается;

### <a name="AdditionalExaminationRestrictions"></a> Дополнительно
- Одна группа не может сдавать более одного экзамена по одному и тому же тесту в перекрывающихся временных периодах;

## <a name="WhoIsExaminer"></a> Экзаменатор
Преподаватель, назначивший экзамен, является **экзаменатором**.

### <a name="WhatExaminerDoes"></a> Права и обязанности экзаменатора
Экзаменатор отвечает за проверку работ, он имеет доступ к редактированию и отмене экзамена.

### <a name="SwitchingOfExaminer"></a> Замена экзаменатора
В особых случаях администратор может заменить экзаменатора любым преподавателем из числа составителей теста.

## <a name="ChangingExaminationTerms"></a> Перенос экзаменов
Экзаменатор или администратор может перенести экзамен на другой срок, при условии что экзамен ещё не начался и выполнении прочих ограничений.

### <a name="ChangingExaminationTermsAfterBeginning"></a> Изменение сроков проведения экзамена после его начала
Если окончание сдачи экзамена было перенесено во время сдачи теста кем-то из учащихся, то это не влияет на фактический лимит времени сдачи теста, если изменение было сделано в сторону уменьшения.

## <a name="CancelingOfExamination"></a> Отмена экзамена
Экзаменатор или администратор может отменить экзамен, если он ещё не закончился.

### <a name="CancelingOfExaminationAfterBeginning"></a> Отмена экзамена во время сдачи теста
Если экзамен отменяется во время сдачи теста учащимися, то тестирование прекращается независимо от оставшегося времени, количества отправленных ответов на вопросы и т.д.

### <a name="CancelingExaminationWithWorks"></a> Отмена экзамена при наличии сданных работ
Работы сданные в рамках отменённого экзамена не подлежат просмотру или проверке.

## <a name="ExaminationNotifications"></a> Оповещение учащихся
Учащиеся, состоящие в экзаменуемых группах, должны быть уведомлены о назначении экзамена, а также о любых изменениях связанных с экзаменом - отмена экзамена, перенос сроков и др.

# <a name="TestFlow"></a> Процедура тестирования

## <a name="StartOfAttempt"></a> Начало тестирования
Время, когда учащийся приступил к выполнению задания, фиксируется.

## <a name="MultipleAttempts"></a> Попытки сдачи теста
Учащийся может предпринять несколько попыток сдать тест, если составители теста разрешили это.

### <a name="MultipleAttemptsRestrictions"></a> Доступность повторной попытки
Учащийся может попытаться сдать тест ещё раз, если по результатам проверки сданной работы он не набрал проходной балл.

### <a name="AttemptsLogging"></a> Учёт повторных попыток
Вся информация о ходе тестирования учитывается независимо для каждой попытки сдачи.
Попытка сдачи ассоциируется с индивидуальной учётной записью учащегося, а не с его членством в группе, сдающей экзамен, то есть, если учащийся состоит в нескольких группах, сдающих один и тот же тест, то счётчик попыток от этого не дублируется и не увеличивается.

## <a name="TimeLimitDetails"></a> Ограничение по времени
Фактический лимит времени, отведённый учащемуся, может уменьшиться из-за того, что сам период сдачи экзамена ограничен. Тестирование будет принудительно заверешно в момент, когда окончится срок проведения экзамена. Это правило применимо также к тестам, неограниченным по времени.

### <a name="CalculatingActualTimeLimit"></a> Вычисление фактического лимита времени
Фактический лимит времени вычисляется как _**min(t<sub>t</sub>, t<sub>e</sub>)**_, где _**t<sub>t</sub>**_ - время от момента начала тестирования до момента, когда закончится лимит времени на тест, _**t<sub>e</sub>**_ - время от момента начала тестирования до момента, когда закончится экзамен.

## <a name="PassingBetweenQuestions"></a> Переход между вопросами
Переход к следующему вопросу происходит:
- когда учащийся приступил к выполнению задания;
- когда учащийся отправил ответ на вопрос (неважно, в перый раз или повторно).

### <a name="HowToDetermineWhatQuestionIsNext"></a> Определение следующего вопроса
Следующий вопрос определяется как вопрос с наименьшим порядковым номером из числа тех, на которые ещё не был дан ответ.

## <a name="LoggingAnswers"></a> Учёт ответов на вопросы
Каждый отправленный ответ фиксируется отдельно для каждой попытки сдачи теста и для каждой попытки ответа на вопрос с указанием времени отправки.

### <a name="LoggingRevokedAnswers"></a> Учёт отозванных ответов
Если учащийся отозвал ответ на вопрос, то он помечается как неактивный и не участвует в процедуре проверки работы. На каждый вопрос может быть только один неотозванный ответ.

## <a name="CompletingAttempt"></a> Завершение тестирования
Момент завершения тестирования должен фиксироваться для каждой попытки сдать тест.

### <a name="CompletingAttemptWithNoRevokingAllowed"></a> Завершение теста, не предусматривающего отзыв ответов
Тестирование, не предусматривающее отзыв отправленных ответов, завершается автоматически сразу после того, как учащийся ответил на все вопросы.

### <a name="CompletingAttemptOnTime"></a> Завершение теста по истечении времени
Тестирование считается завершённым, если истекло время, отведённое на тест (см. выше).

### <a name="OtherWaysOfCompletingAttempt"></a> Другие способы завершения тестирования
Учащийся может завершить тестирование вручную.

# <a name="CheckingWorks"></a> Проверка работ

## <a name="WhatWorksCanBeChecked"></a> Работы, подлежащие проверке
- Сданные учащимися работы могут быть проверены только после завершения тестирования;
- Работы по отменённым экзаменам проверке не подлежат.

## <a name="SettingMarks"></a> Оценка ответа
- Ответ на вопрос может быть засчитан как верный, неверный и частично верный;
- Если ответ был отозван, то он игнорируется при проверке работы.

### <a name="MarksTable"></a> Допустимые оценки ответов для каждой из политик оценивания
|Оценка / Политика|Стандартная|Мягкая|Жёсткая|
|-----------------|-----------|------|-------|
|Верно            |+|+|+|
|Неверно          |+|+|+|
|Частично верно   |-|+|-|

## <a name="MarksAndQuestionTypesCompatability"></a> Способы оценки для разных типов вопросов
Ответы на вопросы с развёрнутым ответом могут быть оценены только вручную, ответы на вопросы с выбором вариантов ответа и на вопросы с точным ответом могут быть проверены как вручную, так и автоматически.

## <a name="MarksForPartiallyRightAnswers"></a> Выставление баллов за частично верные ответы

### <a name="PartiallyRightAnswersAllowability"></a> Допустимость применения частичных ответов
- Ответ может быть засчитан как частично верный только при использовании мягкой политики оценивания;
- Только ответ на вопрос с выбором нескольких вариантов ответа и вопрос с развёрнутым ответом может быть засчитан как частично верный.

### <a name="MarksForPartiallyRightAnswersRestriction"></a> Ограничения на значение балла
- Если ответ был засчитан как частично верный, то за него нельзя поставить 0 баллов, так как ответ _не является неверным_, и нельзя поставить максимальный балл для данного вопроса, так как ответ верен _частично_;
- Если балл за частично засчитанный ответ оказался не целым числом, то округление не требуется;

### <a name="AutomatedCheckForPartiallyRightAnswer"></a> Автоматическая оценка частичного ответа
При автоматической проверке вопросов с выбором нескольких вариантов начисляемый балл считается пропорционально доле правильно выбранных вариантов от их общего числа;

### <a name="ManualCheckForPartiallyRightAnswer"></a> Оценка частичного ответа вручную
Только при оценке частично верного ответа вручную допускается ввод балла вручную на усмотрение экзаменатора.

## <a name="MarksRestrictions"></a> Выставление баллов за верные и неверные ответы
При оценке верных и неверных ответов не могут использоваться промежуточные значения, балл может быть либо максимальный (по модулю), либо нулевой. Для этих ответов при ручной проверке определяется лишь верен ответ или нет, балл вводить вручную нельзя.

## <a name="AutomatedCheckingAlgorithm"></a> Автоматическая проверка работ
![Примерная блок-схема алгоритма](/docs/Images/automated_check.svg)

# <a name="TestResults"></a> Просмотр результатов тестирования

## <a name="AccessToTestResults"></a> Доступность результатов тестирования
Результаты тестирования становятся доступны для просмотра только после того, как работа была полностью проверена.

# <a name="UserAccounts"></a> Учётные записи пользователей

## <a name="UserProfileData"></a> Данные пользователя
Для каждого пользователя хранится следующая информация:
- ФИО;
- E-mail;
- Дата и время регистрации;
- Дата и время последнего входа в систему.

## <a name="UserUniqueness"></a> Уникальность пользователей
Учётные записи пользователей строго индивидуальны, e-mail каждого пользователя должен быть уникален в системе.

## <a name="AccessRoles"></a> Роли доступа
Существуют следующие роли доступа:
- Учащийся (студент);
- Преподаватель;
- Администратор;
Один пользователь может сочетать все три роли, но при создании учётной записи допускается использование только одной из ролей.

## <a name="SuspendingOfAccount"></a> Блокировка пользователя
Администратор может заблокировать учётную запись пользователя; блокировка не имеет срока действия и снимается на усмотрения администратора.
Заблокированный пользователь не имеет доступа ни к каким материалам, представленным в системе.

### <a name="SuspendingRestrictions"></a> Ограничения блокировки
- Администратор не может заблокировать сам себя;
- Администратор не может заблокировать другого администратора.

## <a name="AccessForNewcomers"></a> Доступ к системе для новых пользователей
При создании новой учётной записи для неё создаётся временный пароль для входа в систему.

### <a name="TemporaryPasswordExpiration"></a> Срок действия временного пароля
Временный пароль действует ровно 1 сутки с момента регистрации пользователя в системе.

### <a name="TemporaryPasswordExpirationBan"></a> Блокировка по истечении срока действия временного пароля
Когда срок действия временного пароля заканчивается, учётная запись пользователя блокируется, если пользователь не придумал постоянный пароль.

### <a name="PermanentPassword"></a> Постоянный пароль пользователя
Постоянный пароль пользователя хранится в базе данных в зашифрованном виде.
Постоянный пароль должен иметь длину не менее 8 символов, содержать латинские буквы разного регистра и цифры.

