# Описание вариантов использования

## 1. Преподаватель

### 1.1 Составление тестов
|Идентификатор и название варианта использования|UC-1.1.1 Создание теста|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Создание теста"|
|Предварительные условия|Пользователь авторизован в системе как преподаватель.|
|Выходные условия|<ol><li>Новый тест сохранён в системе с настройками по умолчанию в статусе "Черновик";</li><li>Система запомнила преподавателя, создавшего тест, как его создателя;</li><li>Новый тест имеет версию 1.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Создание теста";</li><li>Система предлагает ввести название и тему теста в свободной форме; </li><li>Пользователь вводит нужные данные;</li><li>Пользователь указывает, что создание теста завершено;</li><li>Система сохраняет новый тест в базе данных.</li></ol>|
|Исключения||
||**Пользователь уже создавал ранее тест с таким же названием и той же темой**|
||Система выводит пользователю сообщение об ошибке и предлагает ввести другое название и/или тему.|
|Бизнес-правила|[Тест](/docs/BusinessRules.md/#Testmaking), [Кто создаёт тесты](/docs/BusinessRules.md/#WhoCanCreate), [Уникальность теста](/docs/BusinessRules.md/#TestMustBeUnique), [Начальный статус теста](/docs/BusinessRules.md/#TestInitialStatus), [Статусы теста](/docs/BusinessRules.md/#TestStatus), [Начальная версия теста](/docs/BusinessRules.md/#TestInitialVersion), [Версионирование тестов](/docs/BusinessRules.md/#TestVersioning)|

|Идентификатор и название варианта использования|UC-1.1.2 Изменение названия или темы теста|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Изменить название и тему теста".|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором теста.</li></ol>|
|Выходные условия|Название и тема теста меняются на новые.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Изменить название и тему теста";</li><li>Система предлагает ввести название и тему теста в свободной форме; </li><li>Пользователь вводит нужные данные;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**У пользователя уже есть тест с таким же названием и той же темой**|
||Система выводит пользователю сообщение об ошибке и предлагает ввести другое название и/или тему.|
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Уникальность теста](/docs/BusinessRules.md/#TestMustBeUnique), _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.3 Изменение порядка прохождения вопросов теста|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Изменение порядка прохождения вопросов теста"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Порядок прохождения вопросов теста меняется на новый.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Изменить порядок прохождения вопросов";</li><li>Система предлагает выбрать вариант из списка доступных; </li><li>Пользователь выбирает нужный вариант;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Нумерация вопросов](/docs/BusinessRules.md/#QuestionNumbers), [Перестановка вопросов](/docs/BusinessRules.md/#QuestionRenumeration), [Порядок ответов на вопросы в тесте](/docs/BusinessRules.md/#TestFlowQuestionOrder) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.4 Настройка возможности повторно отправлять ответы на вопросы|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Настроить повторные ответы"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Схема отправки повторных ответов меняется на новую.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Настроить повторные ответы";</li><li>Система предлагает установить признак "Разрешить отзыв ответа" (Да/Нет) и ввести максимальное количество попыток либо выбрать опцию "Количество попыток неограничено";</li><li>Пользователь заполняет необходимую информацию;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Пользователь ввёл количество попыток больше 1 либо выбрал опцию "Количество попыток неограничено", но запретил повторную отправку**|
||Система выводит пользователю сообщение об ошибке в настройках теста и предлагает попытаться снова.|
||**Пользователь ввёл количество попыток, выходящее за рамки ограничений, определённых системой**|
||Система выводит пользователю сообщение об ошибке с указанием диапазона входных данных и предлагает попытаться снова.|
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Повторные ответы](/docs/BusinessRules.md/#TestFlowRevokeAnswers), [Повторные ответы - ограничения](/docs/BusinessRules.md/#TestFlowRevokeAnswersRestrictions)  _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.5 Задание лимита времени на тест|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Задать лимит времени"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Лимит времени на сдачу теста меняется на новый.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Задать лимит времени";</li><li>Система предлагает задать лимит времени на тест в формате <КоличествоЧасов>:<КоличествоМинут> либо выбрать опцию "Время на тест не ограничено"</li><li>Пользователь заполняет необходимую информацию;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Заданный лимит времени выходит за рамки ограничений, определённых системой**|
||Система выводит пользователю сообщение об ошибке с указанием, в каком диапазоне можно вводить лимит времени и предлагает попытаться снова.|
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Лимит времени](/docs/BusinessRules.md/#TestFlowTimeLimit) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.6 Изменение числа попыток сдачи теста|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Настроить количество попыток"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Изменяется максимальное число попыток сдачи теста.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Настроить количество попыток";</li><li>Система предлагает ввести максимальное количество попыток (целое положительное число от 1) либо выбрать опцию "Количество попыток неограничено";</li><li>Пользователь заполняет необходимую информацию;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Максимальное количество попыток выходит за рамки ограничений, установленных системой**|
||Система выводит пользователю сообщение об ошибке с указанием допустимых значений и предлагает попытаться снова.|
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Повторная сдача теста](/docs/BusinessRules.md/#TestFlowAttempts) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.7 Выбор политики оценивания ответов в тесте|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Выбрать политику оценивания"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Изменяется политика оценки ответов в тесте.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Выбрать политику оценивания";</li><li>Система предлагает выбрать политику оценивания из списка доступных;</li><li>Пользователь выбирает нужный вариант;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Политика оценивания ответов](/docs/BusinessRules.md/#TestCheckingPolicy), [Виды политик оценивания](/docs/BusinessRules.md/#TestCheckingPolicyTypes) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.8 Задание проходного балла для сдачи теста|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Изменить проходной балл"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Изменяется минимальный балл для сдачи теста.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Изменить проходной балл";</li><li>Система предлагает ввести минимальную сумму баллов, достаточную, чтобы тест считался пройденным;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Проходной балл](/docs/BusinessRules.md/#TestCheckingPassingScore) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.9 Отправка заявки на публикацию теста|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Опубликовать тест"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором теста.</li></ol>|
|Выходные условия|Администратору системы отправляется заявка на публикацию теста.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Опубликовать тест";</li><li>Система отправляет уведомление администратору системы о том, что добавлена заявка на публикацию теста;</li><li>Система отправляет уведомление соствителям теста о том, что добавлена заявка на публикацию теста;</li><li>Администратор берёт заявку на рассмотрение и она закрепляется за ним;</li><li>Статус теста меняется на "Ожидает публикации";</li><li>Администратор одобряет заявку;</li><li>Статус теста меняется на "Опубликован".</li></ol>|
|Альтернативные направления||
||**1. Администратор отклоняет заявку**|
||<ol><li>При отклонении заявки администратор должен указать причину отклонения;</li><li>Система отправляет автору и всем составителям уведомление об отказе в публикации с указанием причины;</li><li>Статус теста меняется на "Черновик".</li></ol>|
|Исключения||
||**В тесте нет ни одного вопроса**|
||Система выводит пользователю сообщение об ошибке с указанием списка недочётов, предлагает сначала исправить ошибки и попробовать ещё.|
||**Сумму баллов, достаточную для сдачи теста невозможно набрать, ответив на все вопросы**|
||Система выводит пользователю сообщение об ошибке с указанием списка недочётов, предлагает сначала исправить ошибки и попробовать ещё.|
||**Тест уже находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности отправить заявку ещё раз.|
|Бизнес-правила|[Публикация теста](/docs/BusinessRules.md/#TestPublishing), [Заявка на публикацию теста](/docs/BusinessRules.md/#TestPublishingProposal), [Рассмотрение заявки на публикацию](/docs/BusinessRules.md/#PublishingProposalAssignment), [Отказ по заявке на публикацию](/docs/BusinessRules.md/#PublishingProposalDecline), [Ограничения на публикацию теста](/docs/BusinessRules.md/#TestPublishingRestrictions), [Статусы теста](/docs/BusinessRules.md/#TestStatus), [Переходы между статусами](/docs/BusinessRules.md/#TestStatusTransitions) _Добавить: публиковать можно только черновик_|

|Идентификатор и название варианта использования|UC-1.1.10 Добавление вопроса в тест|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Добавить вопрос"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|<ol><li>В тест добавляется новый вопрос;</li><li>Новому вопросу автоматически присваивается максимальный порядковый номер.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Добавить вопрос";</li><li>Система предлагает выбрать тип вопроса из списка доступных;</li><li>Пользователь выбирает нужный ему тип вопроса;</li><li>Система предлагает ввести формулировку вопроса в свободной форме;</li><li>Пользователь вводит формулировку вопроса;</li><li>В зависимости от типа вопроса:</li><ul><li>Для вопроса с одним вариантом ответа пользователь вводит варианты ответа и помечает один из них как правильный;</li><li>Для вопроса с выбором нескольких вариантов ответа пользователь вводит варианты ответа и помечает один или более как правильные;</li><li>Для вопроса с точным ответом пользователь выбирает тип точного ответа из списка предложенных и вводит верный ответ;</li></ul><li>Пользователь указывает, что ввод завершён;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
||**Для вопроса с вариантами ответа не указан правильный ответ**|
||Система выводит пользователю сообщение об ошибке.|
||**Для вопроса с выбором одного варианта ответа указано более одного правильного ответа**|
||Система выводит пользователю сообщение об ошибке.|
||**Для вопроса с точным ответом тип правильного ответа не соответствует заявленному (например, строка вместо числа)**|
||Система выводит пользователю сообщение об ошибке.|
|**Попытка добавить вопрос с развёрнутым ответом в тест, для которого предусмотрена только автоматическая проверка**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Виды вопросов](/docs/BusinessRules.md/#QuestionTypesList), [Кто может добавлять вопросы](/docs/BusinessRules.md/#AddingQuestionsToTest), [Атрибуты вопросов](/docs/BusinessRules.md/#QuestionAttributes), [Ограничения атрибутов](/docs/BusinessRules.md/#QuestionAttributesRestrictions), [Нумерация вопросов](/docs/BusinessRules.md/#QuestionNumbers), _Добавить: совместимость вопросов разных типов с определёнными настройками теста, ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.11 Удаление вопроса из теста|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Удалить вопрос"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|<ol><li>Выбранный вопрос удаляется из теста;</li><li>Номера оставшихся вопросов автоматически перестраиваются.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Удалить вопрос";</li><li>Система запрашивает подтверждение действия;</li><li>Если пользователь не уверен в своём решении, то вариант использования завершается;</li><li>Система изменяет номера всех остальных вопросов с учётом выполненного удаления;</li><li>Выбранный вопрос удаляется;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
|Бизнес-правила|[Удаление вопросов](/docs/BusinessRules.md/#RemovingQuestionFromTest), [Пересчёт нумерации вопросов](/docs/BusinessRules.md/#QuestionNumbersConsistensy) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.12 Изменение порядка вопросов в тесте|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Переместить вопрос"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|<ol><li>Позиция выбранного вопроса в тесте изменяется на новую, заданную пользователем;</li><li>Номера остальных вопросов автоматически перестраиваются.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Переместить вопрос";</li><li>Система предлагает ввести новый номер вопроса;</li><li>Вопрос встаёт в новую позицию;</li><li>Система изменяет номера всех остальных вопросов с учётом перестановки;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
||**Новый номер вопроса выходит за границы минимального и максимального номера**|
||Система выводит пользователю сообщение о невозможности переместить вопрос, показывает допустимые границы ввода и предлагает попробовать ещё раз. |
||**Другой пользователь, имеющий права на редактирование теста, уже изменил вопрос и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
|Бизнес-правила|[Перестановка вопросов](/docs/BusinessRules.md/#QuestionRenumeration), [Пересчёт нумерации вопросов](/docs/BusinessRules.md/#QuestionNumbersConsistensy) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.13 Редактирование вопроса|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Редактировать вопрос".|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Содержание вопроса меняется на новое.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Редактировать вопрос";</li><li>Система предлагает отредактировать любую информацию о вопросе в произвольном порядке: <ul><li>Изменить формулировку вопроса;</li><li>Добавить, изменить, удалить, поменять местами варианты ответа или изменить правильный(е) вариант(ы) (для вопроса с вариантами ответа);</li><li>Изменить точный ответ (для вопросов с точным ответом)</li><li>Изменить балл за правильный ответ (если тест настроен на ручное выставление баллов).</li></ul></li><li>Пользователь вносит изменения;</li><li>Пользователь указывает, что редактирование завершено;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
||**Текст вопроса слишком длинный**|
||Система выводит пользователю сообщение об ошибке с указанием максимального количества символов в тексте вопроса и предлагает попробовать ещё раз.|
||**Для вопроса с вариантами ответа не указан правильный ответ**|
||Система выводит пользователю сообщение об ошибке.|
||**Для вопроса с выбором одного варианта ответа указано более одного правильного ответа**|
||Система выводит пользователю сообщение об ошибке.|
||**Для вопроса с точным ответом тип правильного ответа не соответствует заявленному (например, строка вместо числа)**|
||Система выводит пользователю сообщение об ошибке.|
||**Попытка переопределить тип вопроса**|
||Система выводит пользователю сообщение о недопустимой операции.|
||**Другой пользователь, имеющий права на редактирование теста, уже изменил вопрос и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
|Бизнес-правила|[Редактирование вопросов](/docs/BusinessRules.md/#EditingQuestions), [Ограничения атрибутов вопроса](/docs/BusinessRules.md/#QuestionAttributesRestrictions) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.14 Отправка теста в архив **TBD**|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Отправить в архив"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором теста.</li></ol>|
|Выходные условия|<ol><li>Тест отправляется в архив;</li><li>Система отправляет всем составителям уведомление, что тест отправлен в архив.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Отправить в архив";</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Статус теста изменяется на "В архиве";</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет всем составителям уведомление, что тест отправлен в архив.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
||**Для выбранного теста в данный момент проводится экзамен, либо есть экзамен, запланированный на будущую дату**|
||Система выводит пользователю сообщение об ошибке с указанием дат экзаменов и ФИО экзаменаторов.|
||**Для выбранного теста в данный момент есть непроверенные работы**|
||Система выводит пользователю сообщение об ошибке с указанием наличия непроверенных работ.|
|Бизнес-правила|_Добавить: публикация, списание в архив, проведение экзаменов, проверка работ_|

|Идентификатор и название варианта использования|UC-1.1.15 Создание новой редакции теста **TBD**|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Создать новую редакцию"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором теста.</li></ol>|
|Выходные условия|<ol><li>Создаётся полная копия выбранного теста с версией, увеличенной на 1 и со статусом "Черновик";</li><li>Изначальный тест отправляется в архив;</li><li>Система отправляет всем составителям уведомление, что создана новая редакция теста.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Создать новую редакцию";</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система создаёт полную копию текущего теста, устанавливая его версию на 1 больше исходной, новая редакция получает статус "Черновик";</li><li>Изначальный тест получает статус "В архиве";</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет всем составителям уведомление, что выпущена новая редакция.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
||**Для выбранного теста в данный момент проводится экзамен, либо есть экзамен, запланированный на будущую дату**|
||Система выводит пользователю сообщение об ошибке с указанием дат экзаменов и ФИО экзаменаторов.|
||**Для выбранного теста в данный момент есть непроверенные работы**|
||Система выводит пользователю сообщение об ошибке с указанием наличия непроверенных работ.|
||**Выбранный тест имеет статус "Черновик"**|
||Система выводит пользователю сообщение об ошибке, напоминая, что в данном случае можно редактировать тест без создания новой редакции.|
|Бизнес-правила|[Создание и публикация новой версии](/docs/BusinessRules.md/#NewEditionOfTest), [Ограничения для создания новых версий тестов](/docs/BusinessRules.md/#NewEditionRestrictions), [Списание тестов в архив](/docs/BusinessRules.md/#TestArchiving) _Добавить: ограничения, связанные с ожиданием публикации, для черновиков новая версия не создаётся_|

|Идентификатор и название варианта использования|UC-1.1.16 Настройка способа проверки работ|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Настроить режим проверки"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Режим проверки сданных работ изменяется на новый|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Настроить режим проверки";</li><li>Система предлагает выбрать режим проверки из списка доступных (ручной, автоматический, смешанный);</li><li>Пользователь делает выбор;</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Попытка назначить автоматический режим проверки для теста, в котором есть вопросы с развёрнутым ответом**|
||Система выводит пользователю сообщение о недопустимой операции.|
|Бизнес-правила|[Способы проверки работ](/docs/BusinessRules.md/#TestCheckingMethod), [Ограничения автоматической проверки](/docs/BusinessRules.md/#AutomatedCheckingRestrictions), [Смешанная проверка](/docs/BusinessRules.md/#MixedCheckingMethod) _Добавить: ограничения, связанные с ожиданием публикации_|

|Идентификатор и название варианта использования|UC-1.1.17 Настройка распределения баллов за вопросы **TBD**|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Настроить режим проверки"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста.</li></ol>|
|Выходные условия|Способ распределения баллов за вопросы изменяется на новый|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Настроить распределение баллов";</li><li>Система предлагает выбрать способ распределения из списка доступных (вручную или автоматически);</li><li>Пользователь делает выбор;</li><li>Если пользователь выбрал автоматическое распределение, то система потребует указать количество баллов, которое должно быть назначено за один вопрос;</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Тест находится в ожидании публикации**|
||Система выводит пользователю сообщение о невозможности редактировать тест в данный момент.|
||**Другой пользователь, имеющий права на редактирование теста, уже внёс изменения и возник конфликт правок**|
||Система выводит пользователю сообщение об ошибке и предлагает попытаться снова.|
||**Попытка назначить автоматическое распределение для теста, в котором баллы за разные вопросы отличаются**|
||Система выводит пользователю сообщение о недопустимой операции.|
|Бизнес-правила|[Распределение баллов за вопросы](/docs/BusinessRules.md/#TestCheckingScoreDistribution), [Автоматическое распределение](/docs/BusinessRules.md/#AutomaticScoreDistribution), [Распределение вручную](/docs/BusinessRules.md/#ManualScoreDistribution) _Добавить: ограничения, связанные с ожиданием публикации, распределение баллов_|

### 1.2 Управление доступом к тесту
|Идентификатор и название варианта использования|UC-1.2.1 Добавление другого преподавателя в список составителей|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Добавить составителя"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором теста.</li></ol>|
|Выходные условия|<ol><li>В список составителей теста добавляется новый преподаватель из числа зарегистрированных в системе;</li><li>Система отправляет новому составителю уведомление, что он включён в список и может приступать к работе.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Добавить составителя";</li><li>Система предлагает выбрать преподавателя из списка зарегистрированных в системе;</li><li>Пользователь делает выбор;</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система добавляет выбранного пользователя в список составителей;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет уведомление новому составителю.</li></ol>|
|Бизнес-правила|[Автор теста](/docs/BusinessRules.md/#WhoCanCreate), [Составитель теста](/docs/BusinessRules.md/#WhoIsContributor)|

|Идентификатор и название варианта использования|UC-1.2.2 Исключение другого преподавателя из списка составителей|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Исключить составителя"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором теста.</li></ol>|
|Выходные условия|<ol><li>Выбранный пользователь исключается из числа составителей;</li><li>Система отправляет бывшему составителю уведомление об исключении.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает преподавателя из списка составителей теста и использует функцию "Исключить составителя";</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Выбранный пользователь исключается из числа составителей;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет бывшему составителю уведомление об исключении.</li></ol>|
|Исключения||
||**Выбранный пользователь является экзаменатором, у которого есть запланированные экзамены.**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Автор теста](/docs/BusinessRules.md/#WhoCanCreate), [Составитель теста](/docs/BusinessRules.md/#WhoIsContributor)|

|Идентификатор и название варианта использования|UC-1.2.3 Передача теста другому преподавателю|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Передать тест другому преподавателю"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором теста.</li></ol>|
|Выходные условия|<ol><li>Выбранный пользователь становится автором теста и получает все связанные с этим полномочия;</li><li>Система отправляет новому автору уведомление о его новом статусе;</li><li>Предыдущий автор теста переходит в составители.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Передать тест другому преподавателю";</li><li>Система предлагает выбрать преподавателя из списка зарегистрированных в системе, вначале показывая тех, кто входит в число составителей;</li><li>Пользователь делает выбор;</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Выбранный пользователь становится автором теста;</li><li>Старый автор становится составителем;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет новому автору уведомление.</li></ol>|
|Исключения||
||**Выбранный пользователь заблокирован в системе.**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Автор теста](/docs/BusinessRules.md/#WhoCanCreate), [Составитель теста](/docs/BusinessRules.md/#WhoIsContributor), [Передача теста другому автору](/docs/BusinessRules.md/#SwitchingOwnership), [Приоритет при передаче теста](/docs/BusinessRules.md/#SwitchingOwnershipPriority), [Ограничения при передаче теста](/docs/BusinessRules.md/#SwitchingOwnershipRestrictions)|

### 1.3 Проведение экзаменов
|Идентификатор и название варианта использования|UC-1.3.1 Создание (назначение) экзамена|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Назначить экзамен"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь должен быть автором или составителем теста, по которому проводится экзамен;</li><li>Тест, по которому назначается экзамен, должен быть опубликован.</li></ol>|
|Выходные условия|<ol><li>Новый экзамен сохраняется в системе;</li><li>Система запоминает пользователя, создавшего экзамен, как экзаменатора;</li><li>Система отправляет уведомления всем учащимся из групп, которым назначен экзамен.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Назначить экзамен";</li><li>Система предлагает выбрать одну или несколько учебных групп из списка активных и выбрать тест из списка опубликованных тестов, в число составителей которых пользователь включён;</li><li>Пользователь делает выбор;</li><li>Система предлагает ввести сроки сдачи экзамена - дату и время начала и окончания экзамена;</li><li>Пользователь вводит данные*</li><li>Пользователь указывает, что назначение экзамена завершено;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет уведомления учащимся всех групп, для которых назначен экзамен.</li></ol><br/>_* ввод группы, теста и сроков можно осуществлять в любом порядке_|
|Исключения||
||**Тест, по которому назначается экзамен, не опубликован.**|
||Система выводит пользователю сообщение о необходимости сначала опубликовать тест.|
||**Попытка назначить экзамен в прошлом.**|
||Система выводит пользователю сообщение об ошибке.|
||**Начало экзамена стоит позади окончания.**|
||Система выводит пользователю сообщение об ошибке.|
||**Одна или несколько групп, для которых был назначен экзамен, были расформированы.**|
||Система выводит пользователю сообщение об ошибке.|
||**Срок существования одной или нескольких групп, которым был назначен экзамен, истёк.**|
||Система выводит пользователю сообщение об ошибке.|
||**Для одной или нескольких групп, которым пользователь пытается назначить экзамен, уже назначен экзамен по данному тесту и периоды сдачи этих экзаменов перекрываются.**|
||Система выводит пользователю сообщение об ошибке с указанием перекрывающихся периодов.|
||**Попытка установить продолжительность срока сдачи экзамена меньше, чем время, отведённое на сдачу теста.**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Публикация теста](/docs/BusinessRules.md/#TestPublishing), [Проведение экзаменов](/docs/BusinessRules.md/#HandlingOfExaminations), [Учебные группы](/docs/BusinessRules.md/#StudyGroups), [Ограничения на проведение экзаменов](/docs/BusinessRules.md/#ExaminationHandlingRestrictions), [Экзаменатор](/docs/BusinessRules.md/#WhoIsExaminer), [Связь сроков экзамена и ограничения времени на тест](/docs/BusinessRules.md/#CalculatingActualTimeLimit)|

|Идентификатор и название варианта использования|UC-1.3.2 Перенос сроков экзамена **TBD**|
|---|---|
|Основное действующее лицо|Преподаватель или администратор|
|Условие-триггер|Пользователь выбирает функцию "Изменить срок сдачи"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель или администратор;</li><li>Если пользователь авторизован как преподаватель, то он должен числиться как экзаменатор.</li></ol>|
|Выходные условия|<ol><li>Сроки проведения экзамена изменяются согласно указаниям пользователя;</li><li>Система отправляет всем учащимся, которым предстоит сдавать экзамен, уведомление о переносе;</li><li>Если перенос осуществлён не самим экзаменатором, то система отправляет ему уведомление.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Изменить срок сдачи";</li><li>Система предлагает ввести новую дату и время для начала и окончания экзамена;</li><li>Пользователь вводит данные;</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, то вариант использования завершается;</li><li>Система сохраняет изменения в базе данных;</li><li>Система рассылает уведомления учащимся о переносе экзамена;</li><li>Система отправляет уведомление экзаменатору, если перенос выполнил администратор.</li></ol>|
|Исключения||
||**Попытка перенести начало экзамена, который уже идёт.**|
||Система выводит пользователю сообщение о том, что уже слишком поздно.|
||**Попытка перенести начало/окончание экзамена в прошлое.**|
||Система выводит пользователю сообщение об ошибке.|
||**Начало экзамена стоит позади окончания.**|
||Система выводит пользователю сообщение об ошибке.|
||**Попытка установить продолжительность срока сдачи экзамена меньше, чем время, отведённое на сдачу теста.**|
||Система выводит пользователю сообщение об ошибке.|
||**У одной или нескольких групп, которым назначен экзамен, есть другой экзамен по данному тесту и период сдачи этого экзамена перекрываются с новым сроком сдачи.**|
||Система выводит пользователю сообщение об ошибке с указанием перекрывающихся периодов.|
||**В момент изменения срока сдачи экзамена кто-то из учащихся уже начал отвечать на вопросы.**|
||На ограничение по времени для уже начатого тестирования изменение срока сдачи не влияет, если это изменение в сторону уменьшения.|
|Бизнес-правила|[Перенос экзаменов](/docs/BusinessRules.md/#ChangingExaminationTerms), [Изменение сроков проведения экзамена после его начала](/docs/BusinessRules.md/#ChangingExaminationTermsAfterBeginning), [Связь сроков экзамена и ограничения времени на тест](/docs/BusinessRules.md/#CalculatingActualTimeLimit), [Оповещение учащихся](/docs/BusinessRules.md/#ExaminationNotifications), [Сроки проведения экзамена](/docs/BusinessRules.md/#TermsOfExamination)|

|Идентификатор и название варианта использования|UC-1.3.3 Отмена экзамена|
|---|---|
|Основное действующее лицо|Преподаватель или администратор|
|Условие-триггер|Пользователь выбирает функцию "Отменить экзамен"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель или администратор;</li><li>Если пользователь авторизован как преподаватель, то он должен быть экзаменатором.</li></ol>|
|Выходные условия|<ol><li>Экзамен отменяется и его сдача становится недоступной;</li><li>Система отправляет всем учащимся, которым предстояло сдавать этот экзамен, уведомление о его отмене;</li><li>Если отмена была произведена администратором, то экзаменатору также отправляется уведомление.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Отменить экзамен";</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, то вариант использования завершается;</li><li>Система помечает экзамен как отменённый и сохраняет изменения в базе данных;</li><li>Система уведомления учащимся об отмене экзамена;</li><li>Если отмена произведена администратором, то экзаменатор также получает уведомление.</li></ol>|
|Исключения||
||**Попытка отменить экзамен, когда он уже закончился.**|
||Система выводит пользователю сообщение о том, что уже слишком поздно.|
||**Попытка отменить экзамен, когда кто-то уже сдаёт тест.**|
||Система останавливает сдачу тестирования, при попытке отправить ответ, посмотреть любой вопрос и т.д. система выведет учащимся, сдающим тест, сообщение о том, что экзамен был отменён.|
||**Попытка отменить экзамен, когда кто-то уже сдал тест.**|
||Сданные работы не подлежат проверке, система не показывает их ни учащимся, ни экзаменаторам.|
|Бизнес-правила|[Отмена экзамена](/docs/BusinessRules.md/#CancelingOfExamination), [Отмена экзамена во время сдачи теста](/docs/BusinessRules.md/#CancelingOfExaminationAfterBeginning), [Оповещение учащихся](/docs/BusinessRules.md/#ExaminationNotifications), [Отмена экзамена при наличии сданных работ](/docs/BusinessRules.md/#CancelingExaminationWithWorks)|

### 1.4 Проверка работ учащихся
|Идентификатор и название варианта использования|UC-1.4.1 Проверка работы экзаменатором|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Проверить работу"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь является экзаменатором, назначившим экзамен, ответы на который он проверяет.</li></ol>|
|Выходные условия|Система выводит пользователю список ответов на вопросы теста, которые подлежат проверке вручную.|
|Нормальное направление|<ol><li>Пользователь выбирает непроверенную работу в списке;</li><li>Система выводит список вопросов теста, подлежащих проверке.</ol>|
|Бизнес-правила|[Проверка работ](/docs/BusinessRules.md/#CheckingWorks)|

|Идентификатор и название варианта использования|UC-1.4.2 Ручная оценка ответа на вопрос|
|---|---|
|Основное действующее лицо|Преподаватель|
|Условие-триггер|Пользователь выбирает функцию "Поставить оценку"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как преподаватель;</li><li>Пользователь является экзаменатором, назначившим экзамен, ответы на который он проверяет.</li></ol>|
|Выходные условия|<ol><li>Результат проверки работы сохраняется в системе;</li><li>Система высчитывает балл, который следует начислить за вопрос в соответствии с политикой оценивания, определённой составителем.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает вопрос из непроверенных вопросов и использует функцию "Поставить оценку";</li><li>Система предлагает выбрать, как следует засчитать ответ учащегося: верный, неверный, частично верный (список корректируется в зависимости от политики оценивания);</li><li>Пользователь выбирает, как система должна засчитать ответ;</li><li>Если ответ засчитан как частично верный, то необходимо ввести балл, который нужно начислить за ответ;</li><li>Пользователь указывает, что оценка выставлена;</li><li>Система обрабатывает решение пользователя, применяет к нему политику оценивания, определённую составителем и записывает в базу данных скорректированный балл, соответствующий политике.</li></ol>|
|Исключения||
||**Попытка использовать вердикт, не предусмотренный политикой оценивания.**|
||Система выводит пользователю сообщение об ошибке.|
||**Выставлен максимальный или нулевой балл для ответа, оценённого как частично верный.**|
||Система выводит пользователю сообщение об ошибке - максимальный балл означает верный ответ, нулевой означает неверный.|
||**Попытка засчитать частично верный ответ при жёсткой политике оценивания.**|
||Система выводит пользователю сообщение о том, что жёсткая политка оценивания допускает только верный и неверный ответ.|
|Бизнес-правила|[Проверка работ](/docs/BusinessRules.md/#CheckingWorks), [Допустимые оценки ответов для каждой из политик оценивания](/docs/BusinessRules.md/#MarksTable), [Выставление баллов за частично верные ответы](/docs/BusinessRules.md/#MarksForPartiallyRightAnswers)|

## 2. Администратор

### 2.1 Управление учётными записями

|Идентификатор и название варианта использования|UC-2.1.1 Регистрация новой учётной записи|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Создать учетную запись"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>В системе создаётся новая учётная запись с ФИО, e-mail и ролью, указанными администратором;</li><li>Система генерирует для нового пользователя временный пароль, действующий 1 сутки;</li><li>Система отправляет новому пользователю на указанный администратором e-mail уведомление о предоставлении доступа, содержащее временный пароль для входа и требование сменить его в течение суток.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Создать учетную запись";</li><li>Система предлагает ввести фамилию, имя, отчество и e-mail пользователя и выбрать одну из основных ролей доступа (Администратор, Преподаватель, Учащийся);</li><li>Пользователь вводит данные;</li><li>Пользователь указывает, что ввод информации завершён;</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система создаёт новую учётную запись и генерирует для неё временный пароль;</li><li>Система отправляет новому пользователю уведомление о предоставлении доступа, содержащее временный пароль, а также требование сменить временный пароль на свой собственный в течение суток.</li></ol>|
|Исключения||
||**Пользователь с таким e-mail уже зарегистрирован в системе**|
||Система выводит пользователю сообщение о том, что введённый e-mail уже используется.|
|Бизнес-правила|[Данные пользователя](/docs/BusinessRules.md/#UserProfileData), [Уникальность пользователей](/docs/BusinessRules.md/#UserUniqueness), [Роли доступа](/docs/BusinessRules.md/#AccessRoles), [Срок действия временного пароля](/docs/BusinessRules.md/#TemporaryPasswordExpiration), [Блокировка по истечении срока действия временного пароля](/docs/BusinessRules.md/#TemporaryPasswordExpirationBan)|

|Идентификатор и название варианта использования|UC-2.1.2 Массовый импорт сведений об учащихся|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Загрузка данных в систему посредством API|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>В системе создаётся сразу большое количество учётных записей учащихся с указанием группы или без него;</li><li>Система рассылает всем новым пользователям уведомление о предоставлении доступа, см. UC-2.1.1 Регистрация новой учётной записи.</li></ol>|
|Нормальное направление|<ol><li>Пользователь инициирует отправку данных учащихся посредством API системы;</li><li>Система перебирает импортированные данные;</li><li>Для каждого учащегося заводится учётная запись;</li><li>Если для учащегося указана группа, то учащийся добавляется в неё;</li><li>Система сохраняет изменения в базе данных;</li><li>Система рассылает всем новым пользователям уведомления о предоставлении доступа;</li><li>Пользователю отправляется отчёт о результатах импорта.</li></ol>|
|Исключения||
||**Указанная при импорте группа не зарегистрирована в системе**|
||Учащиеся, которые должны были быть зачислены в эту группу, не импортируются. Система добавляет в отчёт о результатах импорта информацию о том, что группа не существует и импорт учащихся не был выполнен. Учащиеся, для которых указана существующая группа, а также учащиеся, для которых группа не указана, обрабатываются нормально.|
||**Учащийся с таким email уже зарегистрирован в системе и уже включён в нужную группу**|
||Система пропускает повторяющегося пользователя и не предпринимает никаких действий с его учётной записью. Информация о повторе включается в отчёт о результатах импорта.|
||**Пользователь с таким email уже зарегистрирован в системе, но не является студентом**|
||Система автоматически добавляет пользователя в соответствующую роль. Информация об автоматическом добавлении в роль включается в отчёт.|
||**Учащийся с таким email уже зарегистрирован в системе, но не включён в нужную группу**|
||Система автоматически добавляет пользователя в указанную группу. Информация об автоматическом добавлении в группу включается в отчёт.|
||**Указанная при импорте группа была расформирована**|
||Учащиеся, которые должны были быть зачислены в эту группу, не импортируются. Система добавляет в отчёт о результатах импорта информацию о том, что группа расформирована и импорт учащихся из этой группы не был выполнен.|
||**Истёк срок существования указанной при импорте группы**|
||Система добавляет в отчёт о результатах импорта информацию о том, что истёк срок существования группы и импорт не был выполнен. Все учащиеся, которые должны были быть зачислены в эту группу, не импортируются.|
|Бизнес-правила|[Данные пользователя](/docs/BusinessRules.md/#UserProfileData), [Уникальность пользователей](/docs/BusinessRules.md/#UserUniqueness), [Роли доступа](/docs/BusinessRules.md/#AccessRoles), [Учебные группы](/docs/BusinessRules.md/#StudyGroups)|

|Идентификатор и название варианта использования|UC-2.1.3 Назначение ролей доступа для пользователей **TBD**|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Управление доступом"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>У выбранного пользователя изменяется набор ролей доступа;</li><li>Система отправляет пользователю уведомление о изменении прав доступа.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Управление доступом";</li><li>Система предлагает выбрать, в какие из основных ролей должен входить выбранный пользователь;</li><li>Администратор задаёт набор ролей, включая и исключая их из списка;</li><li>Администратор указывает, что редактирование прав доступа завершено;</li><li>Система запрашивает подтверждение;</li><li>Если администратор не уверен в своём решении, вариант использования завершается;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет пользователю уведомление об изменении прав доступа.</li></ol>|
|Исключения||
||**Попытка удалить все роли доступа**|
||Система выводит пользователю сообщение об ошибке - хотя бы одна роль должна остаться, для блокировки следует использовать другую функцию.|
||**Попытка снять с себя права администратора**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Роли доступа](/docs/BusinessRules.md/#AccessRoles) _Добавить: сочетание ролей_|

|Идентификатор и название варианта использования|UC-2.1.4 Блокировка учётной записи|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Заблокировать"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Учётная запись пользователя блокируется и он теряет доступ к системе;</li><li>Система отправляет заблокированному пользователю уведомление о блокировке учётной записи.</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает пользователя и использует на нём функцию "Заблокировать";</li><li>Система запрашивает подтерждение;</li><li>Если администратор не уверен в своём решении, вариант использования завершается;</li><li>Учётная запись выбранного пользователя помечается в базе данных как заблокированная;</li><li>Система отправляет уведомление заблокированному пользователю.</li></ol>|
|Исключения||
||**Попытка заблокировать себя**|
||Система выводит пользователю сообщение о недопустимой операции.|
||**Попытка заблокировать другого администратора**|
||Система выводит пользователю сообщение о недопустимой операции.|
|Бизнес-правила|[Блокировка пользователя](/docs/BusinessRules.md/#SuspendingOfAccount), [Ограничения блокировки](/docs/BusinessRules.md/#SuspendingRestrictions), [Ограничения при передаче теста](/docs/BusinessRules.md/#SwitchingOwnershipRestrictions), [Доступ к экзамену для учащихся](/docs/BusinessRules.md/#AccessToExamination)|

|Идентификатор и название варианта использования|UC-2.1.5 Повторная генерация временного пароля|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Администратор использует функцию "Сгенерировать пароль повторно"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как администратор;</li><li>Пользователь, для которого генерируется пароль, не имеет постоянного пароля;</li></ol>|
|Выходные условия|<ol><li>Для выбранного пользователя создаётся новый временный пароль, срок действия которого отсчитывается от момента его создания;</li><li>Система отправляет пользователю уведомление, содержащее новый временный пароль для входа и требование сменить его в течение суток.</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает пользователя из списка и использует функцию "Сгенерировать пароль";</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система генерирует новый временный пароль для выбранного пользователя, обновляет информацию в базе данных;</li><li>Система отправляет пользователю уведомление, содержащее новый временный пароль, а также требование сменить временный пароль на свой собственный в течение суток.</li></ol>|
|Бизнес-правила|[Доступ к системе для новых пользователей](/docs/BusinessRules.md/#AccessForNewcomers), [Блокировка по истечении срока действия временного пароля](/docs/BusinessRules.md/#TemporaryPasswordExpirationBan)|

|Идентификатор и название варианта использования|UC-2.1.6 Передача теста другому автору|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Изменить автора"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Выбранный тест меняет авторство;</li><li>Система отправляет новому автору уведомление;</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает тест из списка и использует функцию "Сменить автора";</li><li>Система предлагает выбрать преподавателя из списка зарегистрированных в системе, в начале списка идут составители теста;</li><li>Администратор делает выбор;</li><li>Система запрашивает подтерждение;</li><li>Если администратор не уверен в своём решении, вариант использования завершается;</li><li>Автор теста меняется на нового;</li><li>Если учётная запись прежнего автора не заблокирована, то система отправляет ему уведомление;</li><li>Система отправляет уведомление новому автору.</li></ol>|
|Исключения||
||**Учётная запись нового автора заблокирована**|
||Система выводит пользователю сообщение о недопустимой операции.|
|Бизнес-правила|[Автор теста](/docs/BusinessRules.md/#WhoCanCreate), [Составитель теста](/docs/BusinessRules.md/#WhoIsContributor), [Передача теста другому автору](/docs/BusinessRules.md/#SwitchingOwnership), [Приоритет при передаче теста](/docs/BusinessRules.md/#SwitchingOwnershipPriority), [Ограничения при передаче теста](/docs/BusinessRules.md/#SwitchingOwnershipRestrictions)|

|Идентификатор и название варианта использования|UC-2.1.7 Передача полномочий экзаменатора|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Сменить экзаменатора"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|Ответственным за проведение экзамена назначается другой составитель теста.|
|Нормальное направление|<ol><li>Администратор выбирает экзамен из списка и использует на нём функцию "Сменить экзаменатора";</li><li>Система предлагает выбрать другого преподавателя из списка составителей теста, по которому проводится экзамен;</li><li>Администратор делает выбор;</li><li>Система запрашивает подтерждение;</li><li>Если администратор не уверен в своём решении, вариант использования завершается;</li><li>Экзаменатор сменяется на нового;</li><li>Если учётная запись прежнего экзаменатора не заблокирована, то система отправляет ему уведомление;</li><li>Система отправляет уведомление новому экзаменатору.</li></ol>|
|Исключения||
||**Учётная запись нового экзаменатора заблокирована**|
||Система выводит пользователю сообщение о недопустимой операции.|
|Бизнес-правила|[Экзаменатор](/docs/BusinessRules.md/#WhoIsExaminer), [Замена экзаменатора](/docs/BusinessRules.md/#SwitchingOfExaminer)|

### 2.2 Работа с учебными группами

|Идентификатор и название варианта использования|UC-2.2.1 Создание учебной группы|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Новая группа"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>В системе создаётся новая учебная группа;</li><li>Если при создании группы был назначен куратор, то он получает уведомление.</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает функцию "Новая группа";</li><li>Система предлагает ввести данные о группе: название, срок существования, куратор (опционально);</li><li>Пользователь вводит данные и указывает, что ввод завершён;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет уведомление куратору, если он был назначен.</li></ol>|
|Исключения||
||**В системе уже существует активная группа с таким названием и периоды существования двух групп перекрываются**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Учебные группы](/docs/BusinessRules.md/#StudyGroups), [Обработка данных о группах](/docs/BusinessRules.md/#WhoCanWorkWithGroups), [Куратор группы](/docs/BusinessRules.md/#WhoIsCurator), [Уникальность учебных групп](/docs/BusinessRules.md/#GroupUniqueness)|

|Идентификатор и название варианта использования|UC-2.2.2 Добавление учащихся в группу|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Добавить учащихся"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Учащийся добавляется в учебную группу;</li><li>Система отправляет учащемуся уведомление.</li></ol>|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Добавить учащегося";</li><li>Система предлагает выбрать учащегося из списка зарегистрированных в системе и при этом не состоящих в данной группе;</li><li>Пользователь делает выбор;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет уведомление учащемуся о включении в группу.</li></ol>|
|Исключения||
||**Достигнут предел численности группы**|
||Система выводит пользователю сообщение об ошибке.|
||**Учащийся уже состоит в группе**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Учебные группы](/docs/BusinessRules.md/#StudyGroups), [Обработка данных о группах](/docs/BusinessRules.md/#WhoCanWorkWithGroups), [Численность группы](/docs/BusinessRules.md/#NumberOfStudentsInGroup), [Членство в группе](/docs/BusinessRules.md/#GroupMembership), [Уведомление учащихся](/docs/BusinessRules.md/#NotificationsForStudents)|

|Идентификатор и название варианта использования|UC-2.2.3 Исключение учащихся из группы|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Исключить"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Учащийся исключается из учебной группы;</li><li>Система отправляет учащемуся уведомление об исключении.</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает учащегося в списке группы и использует на нём функцию "Исключить";</li><li>Система запрашивает подтерждение;</li><li>Если администратор не уверен в своём решении, вариант использования завершается;</li><li>Учащийся исключается из списка группы;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет уведомление заблокированному пользователю.</li></ol>|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Учебные группы](/docs/BusinessRules.md/#StudyGroups), [Обработка данных о группах](/docs/BusinessRules.md/#WhoCanWorkWithGroups), [Членство в группе](/docs/BusinessRules.md/#GroupMembership), [Уведомление учащихся](/docs/BusinessRules.md/#NotificationsForStudents) _Добавить: Учебная группа, членство в группах, исключение из группы_|

|Идентификатор и название варианта использования|UC-2.2.4 Назначение преподавателя куратором группы|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Назначить куратора"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Выбранный преподаватель становится куратором группы;</li><li>Система отправляет куратору уведомление о назначении;</li><li>Если у группы уже был куратор, то он получает уведомление о снятии полномочий.</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает учебную группу в списке и использует на ней функцию "Назначить куратора";</li><li>Система предлагает выбрать преподавателя из списка зарегистрированных в системе;</li><li>Пользователь делает выбор;</li><li>Если у группы уже есть куратор, то система запрашивает подтерждение;</li><li>Если администратор не уверен в своём решении, вариант использования завершается;</li><li>Группе назначается новый куратор;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет уведомление новому куратору;</li><li>Система отправляет уведомление прежнему куратору, если он был.</li></ol>|
|Бизнес-правила|[Обработка данных о группах](/docs/BusinessRules.md/#WhoCanWorkWithGroups), [Куратор группы](/docs/BusinessRules.md/#WhoIsCurator)|

|Идентификатор и название варианта использования|UC-2.2.5 Расформирование учебной группы|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Расформировать"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Выбранная учебная группа получает признак "Расформирована" и перестаёт показываться в списке активных групп;</li><li>Система отправляет уведомления куратору группы и всем учащимся.</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает группу в списке и применяет к ней функцию "Расформировать";</li><li>Система запрашивает подтерждение;</li><li>Если администратор не уверен в своём решении, вариант использования завершается;</li><li>Система помечает группу как расформированную, при этом срок существования группы не изменяется;</li><li>Система рассылает уведомления куратору группы и всем учащимся, входившим в её состав.</li></ol>|
|Исключения||
||**Срок существования группы уже истёк**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Обработка данных о группах](/docs/BusinessRules.md/#WhoCanWorkWithGroups), [Расформирование группы](/docs/BusinessRules.md/#DisbandingGroups)|

|Идентификатор и название варианта использования|UC-2.2.6 Редактирование учебной группы|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Редактировать данные группы"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как администратор;</li><li>Выбранная группа не расформирована.</li></ol>|
|Выходные условия|Информация об учебной группе (название и срок действия) изменяется.|
|Нормальное направление|<ol><li>Администратор выбирает группу в списке и применяет к ней функцию "Редактировать";</li><li>Система предлагает ввести обновлённую информацию о группе: название и срок существования группы;</li><li>Пользователь вводит новые данные;</li><li>Пользователь указывает, что ввод завершён;</li><li>Система запрашивает подтерждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Исключения||
||**Группа с таким названием уже существует во введённом периоде**|
||Система выводит пользователю сообщение об ошибке.|
|Бизнес-правила|[Обработка данных о группах](/docs/BusinessRules.md/#WhoCanWorkWithGroups), [Уникальность учебных групп](/docs/BusinessRules.md/#GroupUniqueness)|


### 2.3 Обработка заявок

|Идентификатор и название варианта использования|UC-2.3.1 Обработка заявки на публикацию теста|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь выбирает функцию "Рассмотреть заявку"|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Заявка на публикацию теста закрепляется за администратором, взявшим её в работу;</li><li>Статус теста, для которого отправлена заявка, меняется на "Заявка рассматривается".</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает заявку на публикацию в списке и применяет к ней функцию "Обработать";</li><li>Система закрепляет выбранную заявку за текущим пользователем;</li><li>Система сохраняет изменения в базе данных.</li></ol>|
|Бизнес-правила|[Заявка на публикацию теста](/docs/BusinessRules.md/#TestPublishingProposal), [Рассмотрение заявки на публикацию](/docs/BusinessRules.md/#PublishingProposalAssignment)|

|Идентификатор и название варианта использования|UC-2.3.2 Рассмотрение заявки на публикацию теста|
|---|---|
|Основное действующее лицо|Администратор|
|Условие-триггер|Пользователь обрабатывает заявку на публикацию теста|
|Предварительные условия|Пользователь авторизован в системе как администратор.|
|Выходные условия|<ol><li>Заявка на публикацию теста либо принимается, либо отклоняется;</li><li>Статус теста, для которого отправлена заявка, меняется либо на "Опубликован", либо на "Черновик";</li><li>Автор теста получает уведомление о том, что рассмотрение заявки завершено.</li></ol>|
|Нормальное направление|<ol><li>Администратор выбирает заявку на публикацию в списке заявок, взятых им на рассмотрение;</li><li>Система предлагает выбрать: принять или отклонить заявку; если заявка отклоняется, то необходимо также ввести причину в свободной форме;</li><li>Пользователь вводит данные;</li><li>Пользователь указывает, что ввод завершён;</li><li>Система изменяет статус теста, для которого была отправлена заявка, устанавливая значение "Опубликован", если заявка одобрена и "Черновик" если отклонена;</li><li>Система сохраняет изменения в базе данных;</li><li>Система отправляет автору теста уведомление о завершении рассмотрения заявки.</li></ol>|
|Бизнес-правила|[Заявка на публикацию теста](/docs/BusinessRules.md/#TestPublishingProposal), [Рассмотрение заявки на публикацию](/docs/BusinessRules.md/#PublishingProposalAssignment), [Отказ по заявке на публикацию](/docs/BusinessRules.md/#PublishingProposalDecline), [Статус теста](/docs/BusinessRules.md/#TestStatus)|

## 3. Учащийся
### 3.1 Сдача тестов
|Идентификатор и название варианта использования|UC-3.1.1 Просмотр информации о тесте|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Пользователь выбирает экзамен в списке доступных для сдачи|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену.</li></ol>|
|Выходные условия|Пользователь видит подробную информацию о тесте, который ему предстоит сдавать.|
|Нормальное направление|<ol><li>Пользователь выбирает экзамен из списка;</li><li>Система показывает подробную информацию о тесте и предлагает приступить к сдаче теста.</li></ol>|
|Бизнес-правила||

|Идентификатор и название варианта использования|UC-3.1.2 Начало тестирования|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Просматривая детальную информацию о тесте, пользователь активирует функцию "Начать тестирование"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену.</li></ol>|
|Выходные условия|<ol><li>Система регистрирует новую попытку сдачи теста;</li><li>Система начинает отсчёт времени (если в настройках теста задан временной лимит);</li><li>Система выводит пользователю первый вопрос теста.</li></ol>|
|Нормальное направление|<ol><li>Пользователь активирует функцию "Начать тестирование";</li><li>Если у теста есть временной лимит и до конца срока сдачи экзамена осталось осталось меньше времени, чем отведено на сдачу теста, то система выводит предупреждение;</li><li>Система фиксирует, что пользователь приступил к сдаче теста;</li><li>Система начинает отсчёт времени (если в настройках теста задан временной лимит);</li><li>Система выводит пользователю первый вопрос теста.</li></ol>|
|Исключения||
||**Срок сдачи экзамена истёк**|
||Система выводит пользователю сообщение о том, что время вышло.|
||**Количество попыток сдачи теста исчерпано**|
||Система выводит пользователю сообщение о том, что количество попыток для сдачи исчерпано.|
|Бизнес-правила|[Начало тестирования](/docs/BusinessRules.md/#StartOfAttempt), [Учёт повторных попыток](/docs/BusinessRules.md/#AttemptsLogging), [Ограничение по времени](/docs/BusinessRules.md/#TimeLimitDetails), [Переход между вопросами](/docs/BusinessRules.md/#PassingBetweenQuestions)|

|Идентификатор и название варианта использования|UC-3.1.3 Просмотр списка вопросов в тесте|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Пользователь выбирает просмотр списка вопросов теста|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену;</li><li>Пользователь приступил к сдаче теста.</li></ol>|
|Выходные условия|Система отображает список вопросов теста.|
|Нормальное направление|<ol><li>Пользователь выбирает просмотр списка вопросов теста;</li><li>Система отображает пронумерованный список вопросов с указанием, на каком вопросе остановился пользователь, на какие вопросы он уже ответил, а на какие - нет.</li></ol>|
|Бизнес-правила||

|Идентификатор и название варианта использования|UC-3.1.4 Просмотр информации о вопросе|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Пользователь переходит к очередному вопросу или выбирает произвольный вопрос в списке|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену;</li><li>Пользователь приступил к сдаче теста.</li></ol>|
|Выходные условия|Система отображает подробную информацию о вопросе.|
|Нормальное направление|<ol><li>Пользователь переходит к новому вопросу;</li><li>Система выводит информацию о вопросе: формулировку вопроса, варианты ответа(для вопроса с выбором вариантов), количество попыток (сколько всего и сколько осталось) и предлагает либо выбрать вариант ответа из списка, либо ввести точный или развёрнутый ответ;</li><li>Если пользователь уже ответил на этот вопрос, то система отображает формулировку и выбранный/введённый ответ, а также, если это разрешено в настройках теста, предлагает отозвать предыдущий ответ и отправить новый.</li></ol>|
|Исключения||
||**Доступ к вопросу закрыт, так составитель запретил произвольный порядок ответов на вопросы**|
||Система выводит пользователю сообщение об ошибке и предлагает ответить на следующий по порядку вопрос.|
||**Доступ к вопросу закрыт, так как время, отведённое для сдачи теста, уже вышло**|
||Система выводит пользователю сообщение о том, что время вышло.|
|Бизнес-правила|[Порядок ответов на вопросы](/docs/BusinessRules.md/#TestFlowQuestionOrder), [Завершение тестирования](/docs/BusinessRules.md/#CompletingAttempt), [Завершение теста по истечении времени](/docs/BusinessRules.md/#CompletingAttemptOnTime)|

|Идентификатор и название варианта использования|UC-3.1.5 Переход между вопросами|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|<ul><li>Пользователь отправил ответ на очередной вопрос;</li><li>Пользователь отправил ответ повторно;</li><li>Пользователь выбрал произвольный вопрос в списке;</li><li>Пользователь приступил к сдаче теста;</li></ul>|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену;</li><li>Пользователь приступил к сдаче теста.</li></ol>|
|Выходные условия|Система либо выводит пользователю следующий вопрос, либо подводит его к завершению тестирования.|
|Нормальное направление|<ol><li>Пользователь выполнил переход другому вопросу (см. условие-триггер)</li><li>Система определяет, какой вопрос идёт следующим и предлагает ответить на него (см. UC-3.1.4)</li></ol>|
|Альтернативное направление - вопросы закончились и повторная отправка ответов запрещена составителем теста|<ol><li>Пользователь ответил на последний оставшийся вопрос;</li><li>Система выводит сообщение о том, что тестирование завершено и фиксирует время окончания попытки сдачи.</li></ol>|
|Альтернативное направление - вопросы закончились и повторная отправка ответов разрешена|<ol><li>Пользователь ответил на последний оставшийся вопрос;</li><li>Система выводит сообщение о том, что тестирование завершено и предлагает просмотреть отправленные ответы ещё раз или завершить тестирование.</li></ol>|
|Исключения||
||**Доступ к вопросу закрыт, так составитель запретил произвольный порядок ответов на вопросы**|
||Система выводит пользователю сообщение об ошибке и предлагает ответить на следующий по порядку вопрос.|
||**Доступ к вопросу закрыт, так как тестирование завершено**|
||Система выводит пользователю сообщение об отказе в доступе с указанием причины (тестирование завершено, время вышло и т.д.).|
|Бизнес-правила|[Ограничение по времени](/docs/BusinessRules.md/#TimeLimitDetails), [Переход между вопросами](/docs/BusinessRules.md/#PassingBetweenQuestions), [Определение следующего вопроса](/docs/BusinessRules.md/#HowToDetermineWhatQuestionIsNext), [Завершение тестирования](/docs/BusinessRules.md/#CompletingAttempt), [Завершение теста по истечении времени](/docs/BusinessRules.md/#CompletingAttemptOnTime)|

|Идентификатор и название варианта использования|UC-3.1.6 Отправка ответа на вопрос|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Пользователь желает ответить на вопрос теста|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену;</li><li>Пользователь приступил к сдаче теста;</li><li>Пользователь перешёл к очередному вопросу.</li></ol>|
|Выходные условия|Система регистрирует ответ пользователя на вопрос.|
|Нормальное направление|<ol><li>Пользователь выбирает вариант ответа на вопрос или вводит ответ вручную (в зависимости от типа вопроса)</li><li>Пользователь указывает, что ответ готов;</li><li>Система обрабатывает полученный ответ;</li><li>Система фиксирует, когда ответ был подан.</li></ol>|
|Исключения||
||**Количество попыток ответить на вопрос исчерпано**|
||Система выводит пользователю сообщение о том, что больше ответы на этот вопрос отправлять нельзя.|
||**Вышло время, отведённое для сдачи экзамена**|
||Система выводит пользователю сообщение о том, что время для сдачи теста вышло.|
|Бизнес-правила|[Повторные ответы](/docs/BusinessRules.md/#TestFlowRevokeAnswers), [Повторные ответы - ограничения](/docs/BusinessRules.md/#TestFlowRevokeAnswersRestrictions), [Учёт ответов на вопросы](/docs/BusinessRules.md/#LoggingAnswers), [Учёт отозванных ответов](/docs/BusinessRules.md/#LoggingRevokedAnswers), [Завершение тестирования](/docs/BusinessRules.md/#CompletingAttempt), [Завершение теста по истечении времени](/docs/BusinessRules.md/#CompletingAttemptOnTime)|

|Идентификатор и название варианта использования|UC-3.1.7 Отзыв отправленного ответа на вопрос|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Пользователь выбирает функцию "Отозвать ответ"|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену;</li><li>Пользователь приступил к сдаче теста;</li><li>Пользователь уже отправлял ответ на данный вопрос.</li></ol>|
|Выходные условия|Система помечает предыдущий ответ, отправленный пользователем, как отозванный.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию отозвать ответ;</li><li>Система выводит предупреждение;</li><li>Если пользователь не уверен в своём решении, вариант использования завершается;</li><li>Система помечает предыдущий ответ на этот вопрос как отозванный.</li></ol>|
|Исключения||
||**Составитель запретил отзывать ответы на вопросы**|
||Система выводит пользователю сообщение о запрете на отзыв ответов.|
|Бизнес-правила|[Повторные ответы](/docs/BusinessRules.md/#TestFlowRevokeAnswers), [Повторные ответы - ограничения](/docs/BusinessRules.md/#TestFlowRevokeAnswersRestrictions), [Учёт ответов на вопросы](/docs/BusinessRules.md/#LoggingAnswers), [Учёт отозванных ответов](/docs/BusinessRules.md/#LoggingRevokedAnswers)|

|Идентификатор и название варианта использования|UC-3.1.8 Досрочное завершение тестирования|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Пользователь завершает тестирование досрочно|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Пользователь состоит в учебной группе, которой открыт доступ к экзамену;</li><li>Пользователь приступил к сдаче теста.</li></ol>|
|Выходные условия|Тестирование завершается, система фиксирует время окончания попытки сдачи теста.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Завершить тестирование";</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём решении, то вариант использования завершается;</li><li>Попытка сдачи теста завершается, система сохраняет изменения в базе данных.</li></ol>|
|Бизнес-правила|[Завершение тестирования](/docs/BusinessRules.md/#CompletingAttempt), [Другие способы завершения тестирования](/docs/BusinessRules.md/#OtherWaysOfCompletingAttempt)|

### 3.2 Просмотр результатов тестирования
|Идентификатор и название варианта использования|UC-3.2.1 Просмотр детальной информации об индивидуальных результатах тестирования|
|---|---|
|Основное действующее лицо|Учащийся|
|Условие-триггер|Пользователь выбирает тест из списка пройденных|
|Предварительные условия|<ol><li>Пользователь авторизован в системе как учащийся;</li><li>Учащийся может просматривать только свои результаты;</li><li>Сданная работа должна быть проверена вручную и/или автоматически.</li></ol>|
|Выходные условия|Система демонстрирует пользователю отчёт о результатах сдачи им теста.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Просмотр результатов тестирования"</li><li>Система выводит отчёт о результатах прохождения теста: общий результат (сдал/не сдал) и список вопросов с формулировкой и выбранным/введённым ответом, с указанием, верен ли ответ и сколько баллов было начислено при проверке.</li></ol>|
|Исключения||
||**Работа ещё не проверена**|
||Система выводит пользователю сообщение об ошибке, предлагает дождаться результата и повторить попытку позже.|
|Бизнес-правила|[Доступность результатов тестирования](/docs/BusinessRules.md/#AccessToTestResults), [Проверка работ](/docs/BusinessRules.md/#CheckingWorks), [Проходной балл](/docs/BusinessRules.md/#TestCheckingPassingScore)|

## 4. Все пользователи
### 4.1 Работа с личной учётной записью
|Идентификатор и название варианта использования|UC-4.1.1 Смена пароля|
|---|---|
|Основное действующее лицо|Любой пользователь системы.|
|Условие-триггер|Пользователь хочет изменить свой пароль для входа в систему.|
|Предварительные условия|У пользователя есть незаблокированная учётная запись в системе.|
|Выходные условия|Старый пароль пользователя меняется на новый.|
|Нормальное направление|<ol><li>Пользователь выбирает функцию "Сменить пароль";</li><li>Система предлагает ввести новый пароль, подтвердить его (введя ещё раз) и ввести старый пароль, чтобы авторизовать это действие;</li><li>Пользователь вводит нужные данные;</li><li>Пользователь сообщает о том, что ввод завершён;</li><li>Система запрашивает подтверждение;</li><li>Если пользователь не уверен в своём выборе, то вариант использования завершается;</li><li>Система сохраняет новый постоянный пароль пользователя в зашифрованном виде.</li></ol>|
|Бизнес-правила|[Постоянный пароль пользователя](/docs/BusinessRules.md/#PermanentPassword)|

## 5. Автоматические операции
### 5.1 Работа с результатами тестирования
|Идентификатор и название варианта использования|UC-5.1.1 Автоматическая проверка работ|
|---|---|
|Основное действующее лицо|Система AlphaTest|
|Условие-триггер|Учащийся завершил сдачу теста.|
|Предварительные условия|Сданный тест может быть полностью или частично проверен автоматически.|
|Выходные условия|<ol><li>Система проверяет ответы учащегося;</li><li>Если проверены все ответы, система отправит уведомление учащемуся;</li><li>Иначе уведомление о наличии непроверенной работы получит экзаменатор.</li></ol>|
|Нормальное направление - весь тест проверяется автоматически|<ol><li>Система выбирает тест для проверки;</li><li>Система извлекает из базы данных все рабочие (неотозванные) ответы учащегося на данный тест;</li><li>Система перебирает ответы, сверяя их с верными ответами из теста;</li><li>Система проводит оценку ответов исходя из настроек вопросов и теста, заданных составителем;</li><li>К полученной оценке применяется политика оценивания, заданная составителем теста;</li><li>Система отправляет учащемуся уведомление о том, что его работа проверена.</li></ol>|
|Альтернативное направление - не все вопросы теста могут быть проверены автоматически|<ol><li>Система выбирает тест для проверки;</li><li>Система извлекает из базы данных все рабочие (неотозванные) ответы учащегося на данный тест;</li><li>Система перебирает те ответы, которые могут быть проверены автоматически, сверяя их с верными ответами из теста;</li><li>Система проводит оценку ответов исходя из настроек вопросов и теста, заданных составителем;</li><li>К полученной оценке применяется политика оценивания, заданная составителем теста;</li><li>Система отправляет экзаменатору, назначившему экзамен, уведомление о наличии непроверенной работы.</li></ol>|
|Бизнес-правила|[Проверка работ](/docs/BusinessRules.md/#CheckingWorks), [Автоматическая проверка работ](/docs/BusinessRules.md/#AutomatedCheckingAlgorithm), [Политика оценивания ответов](/docs/BusinessRules.md/#TestCheckingPolicy), [Виды политик оценивания](/docs/BusinessRules.md/#TestCheckingPolicyTypes)|

### 5.2 Работа с учётными записями пользователей
|Идентификатор и название варианта использования|UC-5.2.1 Блокировка учётной записи пользователя по истечении срока действия временного пароля|
|---|---|
|Основное действующее лицо|Система AlphaTest|
|Условие-триггер|Истёк срок действия временного пароля для нового пользователя.|
|Предварительные условия|<ol><li>Срок действия временного пароля истёк;</li><li>Пользователь не задал свой собственный пароль.</li></ol>|
|Выходные условия|Система помечает учётную запись пользователя как заблокированную и отправляет пользователю сообщение о блокировке.|
|Бизнес-правила|[Доступ к системе для новых пользователей](/docs/BusinessRules.md/#AccessForNewcomers), [Срок действия временного пароля](/docs/BusinessRules.md/#TemporaryPasswordExpiration), [Блокировка по истечении срока действия временного пароля](/docs/BusinessRules.md/#TemporaryPasswordExpirationBan)|

